{"version":3,"file":"5.14958c71f05c6286f848.hot-update.js","sources":["webpack:///components/users/user_new.js"],"sourcesContent":["import styled from 'styled-components'\nimport { object, string } from 'yup'\nimport { Subscribe } from 'unstated'\nimport moment from 'moment'\nimport { Router } from '../../routes'\nimport AuthContainer from '../../containers/auth'\nimport UserContainer from '../../containers/user'\nimport { \n\tbase, \n\tFlex, \n\tModal, \n\tFixed, \n\tImage, \n\tIcon, \n\tText,\n\tButton\n} from '../layouts'\nimport { Formik, Form, Field } from 'formik'\nimport { InputField, DateField, InputSelectField } from '../layouts/fields'\n\nconst ModalBody = styled(base('div'))`\n\tmargin: 1rem 1rem 3rem 1rem;\n`\n\nconst ModalClose = styled(base('div'))`\n  margin-left: auto;\n  padding: 10px;\n  cursor: pointer;\n`\n\nconst genderTypes = [\n\t{\n\t\ttype: 'male',\n\t\ttitle: 'Male'\n\t},\n\t{\n\t\ttype: 'female',\n\t\ttitle: 'Female'\n\t}\n]\n\nconst UserNew = ({ toggleModal }) => {\n\tconst handleClick = () => {\n\t\ttoggleModal()\n\t}\n\n\treturn (\n\t\t<Fixed\n\t\t\tpx={3}\n      top={0}\n      right={0}\n      bg=\"rgba(0, 0, 0, 0.5)\"\n      bottom={0}\n      left={0}>\n      <Subscribe to={[AuthContainer, UserContainer]}>\n\t\t\t\t{(authStore, userStore) => (\n\t\t      <Modal width={[1, 2/3]}>\n\t\t\t\t\t\t<Flex width={2/8} bg=\"#f9f9f9\"></Flex>\n\t\t\t\t\t\t<Flex width={6/8} flexDirection=\"column\">\n\t\t\t\t\t\t\t<ModalClose onClick={handleClick}>\n\t\t\t\t\t\t\t\t<Icon fontSize=\"20px\" color=\"grey\" className=\"fas fa-times\" />\n\t\t\t\t\t\t\t</ModalClose>\n\t\t\t\t\t\t\t<ModalBody width={[\"auto\", \"auto\", 2/3]}>\n\t\t\t\t\t\t\t\t<Image width={60} src=\"/static/intermates_nav.png\" />\n\t\t\t\t\t\t\t\t<Text is=\"h1\" fontSize={25} color=\"#222\" my={3}>Registration</Text>\n\t\t\t\t\t\t\t\t<Formik\n\t\t\t\t          initialValues={{\n\t\t\t\t          \temail: '', \n\t\t\t\t          \tusername: '',\n\t\t\t\t            password: '',\n\t\t\t\t            password_confirmation: '',\n\t\t\t\t            profile: {\n\t\t\t\t\t\t\t\t\t\t\tgender: '',\n\t\t\t\t            \tbirthday: moment()\n\t\t\t\t            }\n\t\t\t\t          }}\n\t\t\t\t          validationSchema={\n\t\t\t\t            object().shape({\n\t\t\t\t              email: string()\n\t\t\t\t\t\t\t\t\t      .email('Invalid email address')\n\t\t\t\t\t\t\t\t\t      .required('Required field!'),\n\t\t\t\t              username: string()\n\t\t\t\t\t\t\t\t\t      .required('Required field!'),\n\t\t\t\t\t\t\t\t\t    password: string()\n\t\t\t\t\t\t\t\t\t      .required('Required field!')\n\t\t\t\t\t\t\t\t\t      .min(5, 'Must be greater than 5 characters')\n    \t\t\t\t\t\t\t\t\t\t.max(100, 'Must be less than 100 characters'),\n\t\t\t\t\t\t\t\t\t    password_confirmation: string()\n\t\t\t\t\t\t\t\t\t      .required('Required field!')\n\t\t\t\t\t\t\t\t\t      .test('match', 'Password not matching!', function(value) {\n      \t\t\t\t\t\t\t\t\t\treturn value === this.options.parent.password\n    \t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t    profile: object().shape({\n\t\t\t\t\t\t\t\t\t    \tgender: string()\n\t\t\t\t\t\t\t\t\t\t      .required('Required field!'),\n\t\t\t\t\t\t\t\t\t\t    birthday: string()\n\t\t\t\t\t\t\t\t\t\t      .required('Required field!')\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t          })}\n\t\t\t\t          onSubmit={ async(\n\t\t\t\t            values, \n\t\t\t\t            { setSubmitting }) \n\t\t\t\t          => {\n\t\t\t\t            const response = await userStore.createUser(values, authStore)\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tsetSubmitting(false)\n\t\t\t\t            if (response.status !== 201) {\n\t\t\t\t              console.log(\"Something went wrong\")\n\t\t\t\t              setSubmitting(false)\n\t\t\t\t              Router.pushRoute('/')\n\t\t\t\t            } else {\n\t\t\t\t\t\t\t\t\t\t\ttoggleModal()\n\t\t\t\t            }\n\t\t\t\t          }}\n\t\t\t\t          render={({\n\t\t\t\t            values,\n\t\t\t\t            isSubmitting,\n\t\t\t\t            handleSubmit,\n\t\t\t\t            handleChange,\n\t\t\t\t            handleBlur,\n\t\t\t\t            setFieldValue,\n\t\t\t\t            dirty\n\t\t\t\t          }) => (\n\t\t\t\t            <Form onSubmit={handleSubmit}>\n\t\t\t\t              <Field \n\t\t\t\t                name=\"email\"\n\t\t\t\t                height={[\"35\", \"40\"]}\n\t\t\t\t                component={InputField}\n\t\t\t\t                autoComplete=\"off\"\n\t\t\t\t                placeholder=\"Email\" \n\t\t\t\t              />\n\t\t\t\t              <Field \n\t\t\t\t                name=\"username\"\n\t\t\t\t                height={[\"35\", \"40\"]}\n\t\t\t\t                component={InputField}\n\t\t\t\t                autoComplete=\"off\"\n\t\t\t\t                placeholder=\"Username\" \n\t\t\t\t              />\n\t\t\t\t              <Field \n\t\t\t\t                name=\"password\"\n\t\t\t\t                height={[\"35\", \"40\"]}\n\t\t\t\t                type=\"password\"\n\t\t\t\t                autoComplete=\"off\"\n\t\t\t\t                component={InputField}\n\t\t\t\t                placeholder=\"Password\" \n\t\t\t\t              />\n\t\t\t\t              <Field \n\t\t\t\t                name=\"password_confirmation\"\n\t\t\t\t                height={[\"35\", \"40\"]}\n\t\t\t\t                type=\"password\"\n\t\t\t\t                autoComplete=\"off\"\n\t\t\t\t                component={InputField}\n\t\t\t\t                placeholder=\"Password Confirmation\" \n\t\t\t\t              />\n\t\t\t\t              <Field \n\t\t\t\t                name=\"profile.gender\"\n\t\t\t\t                height={[\"35\", \"40\"]}\n\t\t\t\t                component={InputSelectField}\n\t\t\t\t                placeholder=\"Select your gender\" \n\t\t\t\t                options={genderTypes}\n\t\t\t\t              />\n\t\t\t\t              <Field\n\t\t\t\t              \tname=\"profile.birthday\"\n\t\t\t\t              \tselected={values.profile.birthday}\n\t\t\t\t              \tautoComplete=\"off\"\n\t\t\t\t              \tcomponent={DateField}\n        \t\t\t\t\t\t\t\tonChange={date => setFieldValue('profile.birthday', date)}\n    \t\t\t\t\t\t\t\t\t/>\n\t\t\t                <Button \n\t\t\t                  children={isSubmitting ? 'loading...' : 'SIGN UP'}\n\t\t\t                  type=\"submit\"\n\t\t\t                  disabled={isSubmitting || !dirty} \n\t\t\t                />\n\t\t\t\t            </Form>\n\t\t\t\t          )}\n\t\t\t\t        />\n\t\t\t\t\t\t\t</ModalBody>\n\t\t\t\t\t\t</Flex>\n\t\t      </Modal>\n\t\t    )}\n\t\t\t</Subscribe>\n    </Fixed>\n\t)\n}\n\nexport default UserNew\n\n\n// WEBPACK FOOTER //\n// components/users/user_new.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAUA;AACA;AAEA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAMA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AACA;AAKA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AALA;AAUA;AAEA;AAGA;AAEA;AAIA;AAGA;AACA;AACA;AACA;AAEA;AAHA;AAfA;AAsBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAFA;AAAA;AACA;AADA;AAIA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAtDA;AAjDA;AAAA;AAAA;AAAA;AAAA;AAVA;AAgIA;AACA;AACA;;;;A","sourceRoot":""}